<div class="login-page">
   <h1>
      <span class='fr'>Connexion</span>
      <span class='en'>Log in</span>
   </h1>
   <p class="fr">Pour commencer ou poursuivre le processus d'inscription, veuillez compléter les champs ci-dessous :</p>
   <p class="en">To start or resume your application procedure, please login.<br/>
      If you do not have an account, go to <a ui-sref="candidature.account.create-user">the sign up page</a></p>
      <form name="form" ng-submit="login(form, vm)" novalidate>
         <div class="field hidden">
            <input class="" id="username_hide" type="text" ng-model="vm.username" />
         </div>
         <div class="field">
            <input id="username_or_email" type="text" ng-model="vm.user_or_email" 
                   ng-change="searchUserName(form, vm.user_or_email)" 
                   ng-model-options='{ debounce: 500 }'
                   name="uNameOrEmail" />
            <div ng-show="form.uNameOrEmail.$touched && Object.keys(form.uNameOrEmail.$error).length" ng-messages="form.uNameOrEmail.$error" class="help-block error">
               <div ng-message="required">
                  <span class="fr">Requis</span>
                  <span class="en">Required</span>
               </div>
               <div ng-message="unknown">
                  <span class="fr">Nom d'utilisateur ou E-mail inconnu</span>
                  <span class="en">Unknown Username or E-mail</span>
               </div>
            </div>
            <label for="username_or_email">
            <span class="field-state required" ng-class="{ 'error': form.uNameOrEmail.$error, 'valid':form.uNameOrEmail.$valid, 'touched': form.uNameOrEmail.$touched }"></span>
            <span class="fr">Nom d'utilisateur ou e-mail</span>
            <span class="en">User name or E-mail</span>
            </label>
         </div>

         <div class="field">
            <input id="password" ng-minlength="8" type="password" ng-model="vm.password" name="uPassword" required />
            <div ng-show="form.uPassword.$touched && form.uPassword.$error.required" ng-messages="form.uPassword.$error" class="help-block error">
               <div ng-message="required">
                  <span class="fr">Mot de passe Requis</span>
                  <span class="en">Required</span>
               </div>
            </div>
            <label for="password">
            <span class="field-state required" ng-class="{ 'error': form.uUsername.$error, 'valid':form.uUsername.$valid, 'touched': form.uUsername.$touched }"></span>
            <span class="fr">Mot de passe</span>
            <span class="en">Password</span>
            </label>
         </div>
         <div ng-if="vm.error" class="alert alert-danger">
           <strong>{{vm.error}}</strong>
           <span class='fr'>Rappel: le mot de passe contient 8 lettres minimum dont une majuscule, une minuscule et un chiffre</span>
           <span class='en'>Reminder: the password contains at least 8 letters including one uppercase, lowercase and number </span>
         </div>

         <button type="submit" ng-click="login(form, vm)" ng-class="{ 'has-error': form.$invalid }" class="btn grey block">Login</button>
      </form>
      <div class="navigation footer">
         <p>
            <small>
            <a ui-sref="candidature.account.password-forgot">
              <span class="fr">Mot de passe oublié</span>
              <span class="en">Forgot your password</span></a>
            /
            <a class="" ui-sref="candidature.account.create-user">
              <span class="fr">Créer un compte</span>
              <span class="en">Create an account</span>
            </a>
            </small>
         </p>
      </div>

</div>
